#!/usr/bin/env python

import sys
import argparse

from meteo.models import cr6

SCHEMAS = {
    'cr6': {
        'base': cr6.Base,
    }
}


def parse_args():
    parser = argparse.ArgumentParser()
    parser.add_argument('url', help='SQLAlchemy engine url.')
    parser.add_argument('model', help='Model name to create.')
    return parser.parse_args()


def main():
    args = parse_args()
    if args.name not in SCHEMAS:
        sys.exit('Model name {} is not supported.'.format(args.name))

    base_class = SCHEMAS[args.name]['base']
    base_class.metadata.create_all(args.url)


if __name__ == '__main__':
    main()
